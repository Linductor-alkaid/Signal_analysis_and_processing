<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åºåˆ—çš„zå˜æ¢</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 30px;
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        
        h2 {
            color: #34495e;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-top: 30px;
        }
        
        h3 {
            color: #2980b9;
            margin-top: 25px;
        }
        
        .knowledge-point {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .formula {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
            font-family: 'Times New Roman', serif;
            font-size: 18px;
        }
        
        .important {
            background: #ffeaa7;
            border: 2px solid #fdcb6e;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .example {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
        }
        
        .plot-container {
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        canvas {
            border: 1px solid #ccc;
            margin: 10px;
        }
        
        .controls {
            margin: 15px 0;
            text-align: center;
        }
        
        .controls input, .controls select {
            margin: 5px;
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .controls button {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        
        .controls button:hover {
            background: #2980b9;
        }
        
        .exercise {
            background: #e8f5e8;
            border: 1px solid #c3e6c3;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .exercise h4 {
            color: #2e7d2e;
            margin-top: 0;
        }
        
        .answer {
            background: #f0f0f0;
            border-radius: 5px;
            padding: 10px;
            margin-top: 10px;
            display: none;
        }
        
        .show-answer {
            background: #28a745;
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .show-answer:hover {
            background: #218838;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        
        th {
            background: #f2f2f2;
        }
        
        .z-plane {
            position: relative;
            display: inline-block;
            margin: 20px;
        }
        
        .highlight {
            background: #ffeb3b;
            padding: 2px 5px;
            border-radius: 3px;
        }
        
        .convergence-region {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ä¿¡å·åˆ†æä¸å¤„ç† - ç¬¬äºŒç« ï¼šåºåˆ—çš„zå˜æ¢</h1>
        
        <h2>2.1 zå˜æ¢çš„å®šä¹‰</h2>
        
        <div class="knowledge-point">
            <h3>åŸºæœ¬å®šä¹‰</h3>
            <p>åºåˆ— x[n] çš„<strong>zå˜æ¢</strong>å®šä¹‰ä¸ºï¼š</p>
            <div class="formula">
                X(z) = âˆ‘<sub>n=-âˆ</sub><sup>âˆ</sup> x[n]z<sup>-n</sup>
            </div>
            <p>å…¶ä¸­ï¼š</p>
            <ul>
                <li><strong>z</strong>ï¼šå¤å˜é‡ï¼Œz = re<sup>jÏ‰</sup> = r(cosÏ‰ + jsinÏ‰)</li>
                <li><strong>X(z)</strong>ï¼šx[n]çš„zå˜æ¢</li>
                <li><strong>r</strong>ï¼šzçš„æ¨¡é•¿</li>
                <li><strong>Ï‰</strong>ï¼šzçš„å¹…è§’</li>
            </ul>
        </div>
        
        <div class="important">
            <h3>ğŸ¯ é‡è¦ç†è§£</h3>
            <p>zå˜æ¢æ˜¯è¿ç»­æ—¶é—´æ‹‰æ™®æ‹‰æ–¯å˜æ¢åœ¨ç¦»æ•£æ—¶é—´çš„å¯¹åº”å½¢å¼ï¼Œå°†æ—¶åŸŸçš„åºåˆ—å˜æ¢åˆ°zåŸŸçš„å‡½æ•°ã€‚</p>
        </div>
        
        <div class="knowledge-point">
            <h3>zå˜æ¢çš„ç‰©ç†æ„ä¹‰</h3>
            <p>å¯ä»¥å°†zå˜æ¢ç†è§£ä¸ºï¼š</p>
            <ol>
                <li><strong>æ•°å­¦å·¥å…·</strong>ï¼šå°†å·®åˆ†æ–¹ç¨‹è½¬åŒ–ä¸ºä»£æ•°æ–¹ç¨‹</li>
                <li><strong>é¢‘åŸŸåˆ†æ</strong>ï¼šå½“|z|=1æ—¶ï¼Œå³å•ä½åœ†ä¸Šï¼Œzå˜æ¢é€€åŒ–ä¸ºDTFT</li>
                <li><strong>ç³»ç»Ÿåˆ†æ</strong>ï¼šä¾¿äºåˆ†æç³»ç»Ÿçš„ç¨³å®šæ€§å’Œé¢‘ç‡å“åº”</li>
            </ol>
        </div>
        
        <h2>2.2 æ”¶æ•›åŸŸï¼ˆRegion of Convergence, ROCï¼‰</h2>
        
        <div class="knowledge-point">
            <h3>æ”¶æ•›åŸŸçš„å®šä¹‰</h3>
            <p>zå˜æ¢çš„<strong>æ”¶æ•›åŸŸ</strong>æ˜¯ä½¿çº§æ•° âˆ‘<sub>n=-âˆ</sub><sup>âˆ</sup> x[n]z<sup>-n</sup> ç»å¯¹æ”¶æ•›çš„zå€¼çš„é›†åˆã€‚</p>
            
            <div class="formula">
                ROC: |âˆ‘<sub>n=-âˆ</sub><sup>âˆ</sup> x[n]z<sup>-n</sup>| < âˆ
            </div>
            
            <div class="convergence-region">
                <strong>æ”¶æ•›æ¡ä»¶ï¼š</strong>
                <p>âˆ‘<sub>n=-âˆ</sub><sup>âˆ</sup> |x[n]||z|<sup>-n</sup> < âˆ</p>
            </div>
        </div>
        
        <div class="knowledge-point">
            <h3>æ”¶æ•›åŸŸçš„æ€§è´¨</h3>
            <ol>
                <li><strong>ç¯å½¢åŒºåŸŸ</strong>ï¼šROCæ€»æ˜¯ä»¥åŸç‚¹ä¸ºä¸­å¿ƒçš„ç¯å½¢åŒºåŸŸ</li>
                <li><strong>ä¸åŒ…å«æç‚¹</strong>ï¼šROCä¸èƒ½åŒ…å«X(z)çš„ä»»ä½•æç‚¹</li>
                <li><strong>è¿é€šæ€§</strong>ï¼šROCæ˜¯è¿é€šçš„</li>
                <li><strong>æœ‰é™é•¿åºåˆ—</strong>ï¼šROCä¸ºæ•´ä¸ªzå¹³é¢ï¼ˆé™¤äº†å¯èƒ½çš„0æˆ–âˆï¼‰</li>
                <li><strong>å³è¾¹åºåˆ—</strong>ï¼šROCä¸º|z| > R<sub>+</sub>çš„å¤–éƒ¨åŒºåŸŸ</li>
                <li><strong>å·¦è¾¹åºåˆ—</strong>ï¼šROCä¸º|z| < R<sub>-</sub>çš„å†…éƒ¨åŒºåŸŸ</li>
                <li><strong>åŒè¾¹åºåˆ—</strong>ï¼šROCä¸ºç¯å½¢åŒºåŸŸR<sub>-</sub> < |z| < R<sub>+</sub></li>
            </ol>
        </div>
        
        <div class="plot-container">
            <h3>æ”¶æ•›åŸŸå¯è§†åŒ–</h3>
            <canvas id="rocPlot" width="800" height="400"></canvas>
            <div class="controls">
                <label>åºåˆ—ç±»å‹ï¼š</label>
                <select id="sequenceROC">
                    <option value="right">å³è¾¹åºåˆ— (n â‰¥ 0)</option>
                    <option value="left">å·¦è¾¹åºåˆ— (n â‰¤ 0)</option>
                    <option value="two-sided">åŒè¾¹åºåˆ—</option>
                    <option value="finite">æœ‰é™é•¿åºåˆ—</option>
                </select>
                <label>å†…åŠå¾„ï¼š</label>
                <input type="number" id="innerRadius" value="0.5" step="0.1" min="0" max="2">
                <label>å¤–åŠå¾„ï¼š</label>
                <input type="number" id="outerRadius" value="2" step="0.1" min="0.1" max="5">
                <button onclick="plotROC()">æ›´æ–°ROCå›¾</button>
            </div>
        </div>
        
        <h2>2.3 å¸¸è§åºåˆ—çš„zå˜æ¢</h2>
        
        <div class="knowledge-point">
            <h3>åŸºæœ¬åºåˆ—çš„zå˜æ¢è¡¨</h3>
            <table>
                <tr>
                    <th>åºåˆ— x[n]</th>
                    <th>zå˜æ¢ X(z)</th>
                    <th>æ”¶æ•›åŸŸ ROC</th>
                </tr>
                <tr>
                    <td>Î´[n]</td>
                    <td>1</td>
                    <td>æ•´ä¸ªzå¹³é¢</td>
                </tr>
                <tr>
                    <td>u[n]</td>
                    <td>z/(z-1)</td>
                    <td>|z| > 1</td>
                </tr>
                <tr>
                    <td>-u[-n-1]</td>
                    <td>z/(z-1)</td>
                    <td>|z| < 1</td>
                </tr>
                <tr>
                    <td>a<sup>n</sup>u[n]</td>
                    <td>z/(z-a)</td>
                    <td>|z| > |a|</td>
                </tr>
                <tr>
                    <td>-a<sup>n</sup>u[-n-1]</td>
                    <td>z/(z-a)</td>
                    <td>|z| < |a|</td>
                </tr>
                <tr>
                    <td>na<sup>n</sup>u[n]</td>
                    <td>az/(z-a)<sup>2</sup></td>
                    <td>|z| > |a|</td>
                </tr>
                <tr>
                    <td>cos(Ï‰â‚€n)u[n]</td>
                    <td>z(z-cosÏ‰â‚€)/(zÂ²-2zcosÏ‰â‚€+1)</td>
                    <td>|z| > 1</td>
                </tr>
                <tr>
                    <td>sin(Ï‰â‚€n)u[n]</td>
                    <td>zsinÏ‰â‚€/(zÂ²-2zcosÏ‰â‚€+1)</td>
                    <td>|z| > 1</td>
                </tr>
            </table>
        </div>
        
        <div class="knowledge-point">
            <h3>zå˜æ¢è®¡ç®—æ­¥éª¤</h3>
            <ol>
                <li><strong>åˆ†ç¦»åºåˆ—</strong>ï¼šå°†åºåˆ—åˆ†ä¸ºå³è¾¹ã€å·¦è¾¹æˆ–æœ‰é™é•¿éƒ¨åˆ†</li>
                <li><strong>åº”ç”¨å®šä¹‰</strong>ï¼šç›´æ¥è®¡ç®—çº§æ•°æˆ–æŸ¥è¡¨</li>
                <li><strong>ç¡®å®šROC</strong>ï¼šæ ¹æ®åºåˆ—æ€§è´¨ç¡®å®šæ”¶æ•›åŸŸ</li>
                <li><strong>åŒ–ç®€è¡¨è¾¾å¼</strong>ï¼šåˆå¹¶åŒç±»é¡¹ï¼ŒåŒ–ä¸ºæœ€ç®€å½¢å¼</li>
            </ol>
        </div>
        
        <div class="example">
            <h4>ä¾‹é¢˜ï¼šæ±‚æŒ‡æ•°åºåˆ—çš„zå˜æ¢</h4>
            <p><strong>é—®é¢˜ï¼š</strong>æ±‚ x[n] = a<sup>n</sup>u[n] çš„zå˜æ¢</p>
            <p><strong>è§£ï¼š</strong></p>
            <div class="formula">
                X(z) = âˆ‘<sub>n=0</sub><sup>âˆ</sup> a<sup>n</sup>z<sup>-n</sup> = âˆ‘<sub>n=0</sub><sup>âˆ</sup> (az<sup>-1</sup>)<sup>n</sup>
            </div>
            <p>è¿™æ˜¯ä¸€ä¸ªå‡ ä½•çº§æ•°ï¼Œå½“ |az<sup>-1</sup>| < 1 å³ |z| > |a| æ—¶æ”¶æ•›ï¼š</p>
            <div class="formula">
                X(z) = 1/(1-az<sup>-1</sup>) = z/(z-a), &nbsp;&nbsp; ROC: |z| > |a|
            </div>
        </div>
        
        <h2>2.4 æ”¶æ•›åŸŸçš„é‡è¦æ€§</h2>
        
        <div class="knowledge-point">
            <h3>ä¸ºä»€ä¹ˆROCå¦‚æ­¤é‡è¦ï¼Ÿ</h3>
            
            <div class="important">
                <p><strong>å…³é”®ç‚¹ï¼š</strong>ä¸åŒçš„åºåˆ—å¯èƒ½æœ‰ç›¸åŒçš„zå˜æ¢è¡¨è¾¾å¼ï¼Œä½†ROCä¸åŒï¼</p>
            </div>
            
            <div class="example">
                <h4>ç»å…¸ä¾‹å­</h4>
                <p>è€ƒè™‘ä¸¤ä¸ªä¸åŒçš„åºåˆ—ï¼š</p>
                <ul>
                    <li>xâ‚[n] = a<sup>n</sup>u[n] &nbsp;&nbsp;â†’&nbsp;&nbsp; Xâ‚(z) = z/(z-a), |z| > |a|</li>
                    <li>xâ‚‚[n] = -a<sup>n</sup>u[-n-1] &nbsp;&nbsp;â†’&nbsp;&nbsp; Xâ‚‚(z) = z/(z-a), |z| < |a|</li>
                </ul>
                <p><span class="highlight">ç›¸åŒçš„ä»£æ•°è¡¨è¾¾å¼ï¼Œä¸åŒçš„ROCï¼Œå¯¹åº”å®Œå…¨ä¸åŒçš„åºåˆ—ï¼</span></p>
            </div>
        </div>
        
        <div class="plot-container">
            <h3>zå˜æ¢è®¡ç®—å™¨</h3>
            <canvas id="ztransformPlot" width="600" height="300"></canvas>
            <div class="controls">
                <label>é€‰æ‹©åºåˆ—ï¼š</label>
                <select id="exampleSequence">
                    <option value="unit_step">u[n]</option>
                    <option value="exponential">a^n u[n]</option>
                    <option value="exponential_left">-a^n u[-n-1]</option>
                    <option value="ramp">n u[n]</option>
                </select>
                <label>å‚æ•°aï¼š</label>
                <input type="number" id="paramA" value="0.5" step="0.1" min="-2" max="2">
                <button onclick="calculateZTransform()">è®¡ç®—zå˜æ¢</button>
            </div>
            <div id="ztransformResult" style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px;"></div>
        </div>
        
        <h2>ç»ƒä¹ é¢˜ç›®</h2>
        
        <div class="exercise">
            <h4>ç»ƒä¹ 1ï¼šåŸºæœ¬zå˜æ¢</h4>
            <p>æ±‚ä¸‹åˆ—åºåˆ—çš„zå˜æ¢åŠå…¶ROCï¼š</p>
            <ol>
                <li>xâ‚[n] = (1/2)<sup>n</sup>u[n]</li>
                <li>xâ‚‚[n] = 2<sup>n</sup>u[-n-1]</li>
                <li>xâ‚ƒ[n] = Î´[n-2]</li>
            </ol>
            <button class="show-answer" onclick="toggleAnswer('answer1')">æ˜¾ç¤ºç­”æ¡ˆ</button>
            <div id="answer1" class="answer">
                <strong>ç­”æ¡ˆï¼š</strong><br>
                1. Xâ‚(z) = z/(z-1/2), ROC: |z| > 1/2<br>
                2. Xâ‚‚(z) = z/(z-2), ROC: |z| < 2<br>
                3. Xâ‚ƒ(z) = zâ»Â², ROC: æ•´ä¸ªzå¹³é¢ï¼ˆé™¤z=0ï¼‰
            </div>
        </div>
        
        <div class="exercise">
            <h4>ç»ƒä¹ 2ï¼šæ”¶æ•›åŸŸåˆ¤æ–­</h4>
            <p>å·²çŸ¥ X(z) = zÂ²/((z-1/2)(z-2))ï¼Œé—®ï¼š</p>
            <ol>
                <li>è¯¥zå˜æ¢å¯èƒ½å¯¹åº”å‡ ç§ä¸åŒçš„åºåˆ—ï¼Ÿ</li>
                <li>å†™å‡ºæ¯ç§æƒ…å†µçš„ROC</li>
                <li>å“ªç§æƒ…å†µå¯¹åº”ç¨³å®šçš„å› æœåºåˆ—ï¼Ÿ</li>
            </ol>
            <button class="show-answer" onclick="toggleAnswer('answer2')">æ˜¾ç¤ºç­”æ¡ˆ</button>
            <div id="answer2" class="answer">
                <strong>ç­”æ¡ˆï¼š</strong><br>
                1. å¯èƒ½å¯¹åº”3ç§ä¸åŒåºåˆ—<br>
                2. ROCâ‚: |z| > 2ï¼ˆå³è¾¹åºåˆ—ï¼‰<br>
                &nbsp;&nbsp;&nbsp;&nbsp;ROCâ‚‚: |z| < 1/2ï¼ˆå·¦è¾¹åºåˆ—ï¼‰<br>
                &nbsp;&nbsp;&nbsp;&nbsp;ROCâ‚ƒ: 1/2 < |z| < 2ï¼ˆåŒè¾¹åºåˆ—ï¼‰<br>
                3. ROCâ‚å¯¹åº”ç¨³å®šçš„å› æœåºåˆ—ï¼ˆåŒ…å«å•ä½åœ†ï¼‰
            </div>
        </div>
        
        <div class="exercise">
            <h4>ç»ƒä¹ 3ï¼šROCæ€§è´¨åº”ç”¨</h4>
            <p>åºåˆ— x[n] = a<sup>n</sup>u[n] + b<sup>n</sup>u[-n-1]ï¼Œå…¶ä¸­ |a| < |b|</p>
            <p>æ±‚ï¼š</p>
            <ol>
                <li>X(z)çš„è¡¨è¾¾å¼</li>
                <li>ROC</li>
                <li>ä»€ä¹ˆæ¡ä»¶ä¸‹åºåˆ—ç¨³å®šï¼Ÿ</li>
            </ol>
            <button class="show-answer" onclick="toggleAnswer('answer3')">æ˜¾ç¤ºç­”æ¡ˆ</button>
            <div id="answer3" class="answer">
                <strong>ç­”æ¡ˆï¼š</strong><br>
                1. X(z) = z/(z-a) + z/(z-b) = z(2z-a-b)/((z-a)(z-b))<br>
                2. ROC: |a| < |z| < |b|ï¼ˆå½“|a| < |b|æ—¶ï¼‰<br>
                3. ç¨³å®šæ¡ä»¶ï¼šROCåŒ…å«å•ä½åœ†ï¼Œå³|a| < 1 < |b|
            </div>
        </div>
        
        <div class="exercise">
            <h4>ç»ƒä¹ 4ï¼šå¤æ•°åºåˆ—çš„zå˜æ¢</h4>
            <p>æ±‚ x[n] = e<sup>jÏ‰â‚€n</sup>u[n] çš„zå˜æ¢å’ŒROC</p>
            <button class="show-answer" onclick="toggleAnswer('answer4')">æ˜¾ç¤ºç­”æ¡ˆ</button>
            <div id="answer4" class="answer">
                <strong>ç­”æ¡ˆï¼š</strong><br>
                ä»¤ a = e^(jÏ‰â‚€)ï¼Œåˆ™ |a| = 1<br>
                X(z) = z/(z-e^(jÏ‰â‚€)), ROC: |z| > 1<br>
                è¿™å¯¹åº”å•ä½åœ†ä¸Šçš„å¤æŒ‡æ•°åºåˆ—
            </div>
        </div>
        
        <h2>2.5 å­¦ä¹ è¦ç‚¹æ€»ç»“</h2>
        
        <div class="important">
            <h3>ğŸ¯ å¿…é¡»æŒæ¡çš„è¦ç‚¹</h3>
            <ol>
                <li><strong>å®šä¹‰è®°å¿†</strong>ï¼šX(z) = âˆ‘ x[n]zâ»â¿</li>
                <li><strong>ROCæ€§è´¨</strong>ï¼šä¸åŒROCå¯¹åº”ä¸åŒåºåˆ—</li>
                <li><strong>åŸºæœ¬å˜æ¢å¯¹</strong>ï¼šç†Ÿè®°å¸¸ç”¨åºåˆ—çš„zå˜æ¢</li>
                <li><strong>ç¨³å®šæ€§åˆ¤æ–­</strong>ï¼šROCåŒ…å«å•ä½åœ†åˆ™ç³»ç»Ÿç¨³å®š</li>
                <li><strong>å› æœæ€§åˆ¤æ–­</strong>ï¼šå³è¾¹åºåˆ—å¯¹åº”å› æœç³»ç»Ÿ</li>
            </ol>
        </div>
    </div>

    <script>
        // ç»˜åˆ¶ROCåŒºåŸŸ
        function plotROC() {
            const canvas = document.getElementById('rocPlot');
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            const sequenceType = document.getElementById('sequenceROC').value;
            const innerR = parseFloat(document.getElementById('innerRadius').value);
            const outerR = parseFloat(document.getElementById('outerRadius').value);
            
            // å·¦å³ä¸¤ä¸ªå­å›¾
            const leftCenter = {x: width/4, y: height/2};
            const rightCenter = {x: 3*width/4, y: height/2};
            const radius = Math.min(width/4, height/2) - 20;
            
            // ç»˜åˆ¶å·¦å›¾ï¼šzå¹³é¢
            drawZPlane(ctx, leftCenter, radius, sequenceType, innerR, outerR);
            
            // ç»˜åˆ¶å³å›¾ï¼šåºåˆ—ç¤ºä¾‹
            drawSequenceExample(ctx, rightCenter, radius, sequenceType);
        }
        
        function drawZPlane(ctx, center, maxRadius, type, innerR, outerR) {
            // ç”»åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            
            // å®è½´
            ctx.beginPath();
            ctx.moveTo(center.x - maxRadius, center.y);
            ctx.lineTo(center.x + maxRadius, center.y);
            ctx.stroke();
            
            // è™šè½´
            ctx.beginPath();
            ctx.moveTo(center.x, center.y - maxRadius);
            ctx.lineTo(center.x, center.y + maxRadius);
            ctx.stroke();
            
            // å•ä½åœ†
            ctx.strokeStyle = '#666';
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.arc(center.x, center.y, maxRadius * 0.3, 0, 2 * Math.PI);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // æ ‡è®°
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Re', center.x + maxRadius - 10, center.y + 15);
            ctx.fillText('Im', center.x - 10, center.y - maxRadius + 20);
            ctx.fillText('|z|=1', center.x + maxRadius * 0.3 + 15, center.y - 5);
            
            // ç»˜åˆ¶ROC
            const scale = maxRadius * 0.3; // å•ä½åœ†åŠå¾„
            let rocInnerR = innerR * scale;
            let rocOuterR = outerR * scale;
            
            ctx.fillStyle = 'rgba(0, 255, 0, 0.3)';
            ctx.strokeStyle = 'green';
            ctx.lineWidth = 2;
            
            switch (type) {
                case 'right':
                    // |z| > R+
                    rocInnerR = innerR * scale;
                    ctx.beginPath();
                    ctx.arc(center.x, center.y, maxRadius, 0, 2 * Math.PI);
                    ctx.arc(center.x, center.y, rocInnerR, 0, 2 * Math.PI, true);
                    ctx.fill();
                    
                    ctx.beginPath();
                    ctx.arc(center.x, center.y, rocInnerR, 0, 2 * Math.PI);
                    ctx.stroke();
                    break;
                    
                case 'left':
                    // |z| < R-
                    rocOuterR = outerR * scale;
                    ctx.beginPath();
                    ctx.arc(center.x, center.y, rocOuterR, 0, 2 * Math.PI);
                    ctx.fill();
                    
                    ctx.beginPath();
                    ctx.arc(center.x, center.y, rocOuterR, 0, 2 * Math.PI);
                    ctx.stroke();
                    break;
                    
                case 'two-sided':
                    // R- < |z| < R+
                    rocInnerR = innerR * scale;
                    rocOuterR = outerR * scale;
                    ctx.beginPath();
                    ctx.arc(center.x, center.y, rocOuterR, 0, 2 * Math.PI);
                    ctx.arc(center.x, center.y, rocInnerR, 0, 2 * Math.PI, true);
                    ctx.fill();
                    
                    ctx.beginPath();
                    ctx.arc(center.x, center.y, rocInnerR, 0, 2 * Math.PI);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.arc(center.x, center.y, rocOuterR, 0, 2 * Math.PI);
                    ctx.stroke();
                    break;
                    
                case 'finite':
                    // æ•´ä¸ªzå¹³é¢ï¼ˆé™¤äº†å¯èƒ½çš„åŸç‚¹ï¼‰
                    ctx.fillStyle = 'rgba(0, 255, 0, 0.2)';
                    ctx.beginPath();
                    ctx.arc(center.x, center.y, maxRadius, 0, 2 * Math.PI);
                    ctx.fill();
                    break;
            }
            
            // æ ‡é¢˜
            ctx.fillStyle = '#333';
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('zå¹³é¢åŠROC', center.x, center.y - maxRadius - 10);
        }
        
        function drawSequenceExample(ctx, center, maxRadius, type) {
            // ç»˜åˆ¶åºåˆ—ç¤ºä¾‹
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            
            // åæ ‡è½´
            ctx.beginPath();
            ctx.moveTo(center.x - maxRadius, center.y);
            ctx.lineTo(center.x + maxRadius, center.y);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(center.x, center.y - maxRadius);
            ctx.lineTo(center.x, center.y + maxRadius);
            ctx.stroke();
            
            // ç”Ÿæˆç¤ºä¾‹åºåˆ—
            const samples = [];
            const nRange = [-5, 5];
            const scaleX = maxRadius / 6;
            const scaleY = maxRadius * 0.3;
            
            for (let n = nRange[0]; n <= nRange[1]; n++) {
                let value = 0;
                switch (type) {
                    case 'right':
                        value = n >= 0 ? Math.pow(0.7, n) : 0;
                        break;
                    case 'left':
                        value = n <= 0 ? Math.pow(1.3, -n) : 0;
                        break;
                    case 'two-sided':
                        if (n >= 0) {
                            value = Math.pow(0.7, n);
                        } else {
                            value = Math.pow(1.3, -n);
                        }
                        break;
                    case 'finite':
                        value = (n >= -2 && n <= 2) ? 1 - 0.2 * Math.abs(n) : 0;
                        break;
                }
                samples.push({n: n, value: value});
            }
            
            // ç»˜åˆ¶åºåˆ—
            ctx.strokeStyle = 'blue';
            ctx.fillStyle = 'blue';
            ctx.lineWidth = 2;
            
            samples.forEach(sample => {
                const x = center.x + sample.n * scaleX;
                const y = center.y - sample.value * scaleY;
                
                // èŒ
                ctx.beginPath();
                ctx.moveTo(x, center.y);
                ctx.lineTo(x, y);
                ctx.stroke();
                
                // ç‚¹
                ctx.beginPath();
                ctx.arc(x, y, 3, 0, 2 * Math.PI);
                ctx.fill();
            });
            
            // æ ‡é¢˜
            ctx.fillStyle = '#333';
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            
            let title = '';
            switch (type) {
                case 'right': title = 'å³è¾¹åºåˆ—ç¤ºä¾‹'; break;
                case 'left': title = 'å·¦è¾¹åºåˆ—ç¤ºä¾‹'; break;
                case 'two-sided': title = 'åŒè¾¹åºåˆ—ç¤ºä¾‹'; break;
                case 'finite': title = 'æœ‰é™é•¿åºåˆ—ç¤ºä¾‹'; break;
            }
            ctx.fillText(title, center.x, center.y - maxRadius - 10);
        }
        
        // è®¡ç®—zå˜æ¢
        function calculateZTransform() {
            const sequence = document.getElementById('exampleSequence').value;
            const a = parseFloat(document.getElementById('paramA').value);
            const resultDiv = document.getElementById('ztransformResult');
            
            let result = '';
            
            switch (sequence) {
                case 'unit_step':
                    result = `
                        <strong>åºåˆ—ï¼š</strong> u[n]<br>
                        <strong>zå˜æ¢ï¼š</strong> X(z) = z/(z-1)<br>
                        <strong>ROCï¼š</strong> |z| > 1
                    `;
                    break;
                case 'exponential':
                    result = `
                        <strong>åºåˆ—ï¼š</strong> ${a}^n u[n]<br>
                        <strong>zå˜æ¢ï¼š</strong> X(z) = z/(z-${a})<br>
                        <strong>ROCï¼š</strong> |z| > ${Math.abs(a)}
                    `;
                    break;
                case 'exponential_left':
                    result = `
                        <strong>åºåˆ—ï¼š</strong> -${a}^n u[-n-1]<br>
                        <strong>zå˜æ¢ï¼š</strong> X(z) = z/(z-${a})<br>
                        <strong>ROCï¼š</strong> |z| < ${Math.abs(a)}
                    `;
                    break;
                case 'ramp':
                    result = `
                        <strong>åºåˆ—ï¼š</strong> n u[n]<br>
                        <strong>zå˜æ¢ï¼š</strong> X(z) = z/(z-1)Â²<br>
                        <strong>ROCï¼š</strong> |z| > 1
                    `;
                    break;
            }
            
            resultDiv.innerHTML = result;
            
            // åŒæ—¶ç»˜åˆ¶å¯¹åº”çš„åºåˆ—
            plotSequenceForZTransform(sequence, a);
        }
        
        function plotSequenceForZTransform(sequence, a) {
            const canvas = document.getElementById('ztransformPlot');
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            const centerX = width / 2;
            const centerY = height * 0.8;
            const scaleX = 30;
            const scaleY = 40;
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            
            ctx.beginPath();
            ctx.moveTo(20, centerY);
            ctx.lineTo(width - 20, centerY);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(centerX, 20);
            ctx.lineTo(centerX, height - 20);
            ctx.stroke();
            
            // ç”Ÿæˆåºåˆ—
            const samples = {};
            for (let n = -8; n <= 8; n++) {
                switch (sequence) {
                    case 'unit_step':
                        samples[n] = n >= 0 ? 1 : 0;
                        break;
                    case 'exponential':
                        samples[n] = n >= 0 ? Math.pow(a, n) : 0;
                        break;
                    case 'exponential_left':
                        samples[n] = n <= 0 ? -Math.pow(a, -n) : 0;
                        break;
                    case 'ramp':
                        samples[n] = n >= 0 ? n : 0;
                        break;
                }
            }
            
            // ç»˜åˆ¶åºåˆ—
            ctx.strokeStyle = 'red';
            ctx.fillStyle = 'red';
            ctx.lineWidth = 2;
            
            for (let n in samples) {
                const x = centerX + parseInt(n) * scaleX;
                const y = centerY - samples[n] * scaleY;
                
                if (x > 20 && x < width - 20) {
                    ctx.beginPath();
                    ctx.moveTo(x, centerY);
                    ctx.lineTo(x, y);
                    ctx.stroke();
                    
                    ctx.beginPath();
                    ctx.arc(x, y, 3, 0, 2 * Math.PI);
                    ctx.fill();
                }
            }
            
            // æ ‡é¢˜
            ctx.fillStyle = '#333';
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('é€‰å®šåºåˆ—çš„æ—¶åŸŸè¡¨ç¤º', centerX, 15);
        }
        
        // åˆ‡æ¢ç­”æ¡ˆæ˜¾ç¤º
        function toggleAnswer(answerId) {
            const answer = document.getElementById(answerId);
            answer.style.display = answer.style.display === 'none' ? 'block' : 'none';
        }
        
        // é¡µé¢åŠ è½½ååˆå§‹åŒ–
        window.onload = function() {
            plotROC();
            calculateZTransform();
        };
    </script>
</body>
</html>