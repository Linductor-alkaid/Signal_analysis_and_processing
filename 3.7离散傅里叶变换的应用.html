<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¦»æ•£å‚…é‡Œå¶å˜æ¢çš„åº”ç”¨</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 30px;
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        
        h2 {
            color: #34495e;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-top: 30px;
        }
        
        h3 {
            color: #2980b9;
            margin-top: 25px;
        }
        
        .knowledge-point {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .formula {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
            font-family: 'Times New Roman', serif;
            font-size: 18px;
        }
        
        .important {
            background: #ffeaa7;
            border: 2px solid #fdcb6e;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .example {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
        }
        
        .plot-container {
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        canvas {
            border: 1px solid #ccc;
            margin: 10px;
        }
        
        .controls {
            margin: 15px 0;
            text-align: center;
        }
        
        .controls input, .controls select {
            margin: 5px;
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .controls button {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        
        .controls button:hover {
            background: #2980b9;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        
        th {
            background: #f2f2f2;
        }
        
        .highlight {
            background: #ffeb3b;
            padding: 2px 5px;
            border-radius: 3px;
        }
        
        .application-box {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .method-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .method-item {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        
        .spectrum-analysis {
            background: #f0f8ff;
            border: 1px solid #87ceeb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .two-d-demo {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            gap: 20px;
        }
        
        .image-container {
            text-align: center;
        }
        
        .performance-table {
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .steps-container {
            background: #fff3e0;
            border: 1px solid #ffb74d;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .steps-container ol {
            margin: 0;
            padding-left: 20px;
        }
        
        .note-box {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .demo-item {
            text-align: center;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fafafa;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ä¿¡å·åˆ†æä¸å¤„ç† - ç¬¬ä¸ƒç« ï¼šç¦»æ•£å‚…é‡Œå¶å˜æ¢çš„åº”ç”¨</h1>
        
        <div class="application-box">
            <h3>ğŸŒŸ æœ¬ç« æ¦‚è¿°</h3>
            <p>æœ¬ç« å±•ç¤ºDFT/FFTåœ¨å®é™…å·¥ç¨‹ä¸­çš„ä¸‰å¤§æ ¸å¿ƒåº”ç”¨ï¼š</p>
            <ul>
                <li><strong>å¿«é€Ÿå·ç§¯</strong>ï¼šåˆ©ç”¨FFTé«˜æ•ˆå®ç°ä¿¡å·æ»¤æ³¢å’Œç³»ç»Ÿåˆ†æ</li>
                <li><strong>é¢‘è°±åˆ†æ</strong>ï¼šç”¨DFTåˆ†æå®é™…è¿ç»­ä¿¡å·çš„é¢‘ç‡ç‰¹æ€§</li>
                <li><strong>äºŒç»´DFT</strong>ï¼šå›¾åƒå¤„ç†å’ŒäºŒç»´ä¿¡å·åˆ†æçš„åŸºç¡€å·¥å…·</li>
            </ul>
        </div>
        
        <h2>7.1 ç”¨FFTå®ç°å¿«é€Ÿå·ç§¯</h2>
        
        <div class="knowledge-point">
            <h3>åŸºæœ¬åŸç†</h3>
            <p>å·ç§¯å®šç†æ˜¯å¿«é€Ÿå·ç§¯çš„ç†è®ºåŸºç¡€ï¼š</p>
            <div class="formula">
                æ—¶åŸŸå·ç§¯ â†” é¢‘åŸŸç›¸ä¹˜<br>
                y[n] = x[n] * h[n] â†” Y[k] = X[k] Â· H[k]
            </div>
            
            <p>å› æ­¤ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°å¿«é€Ÿå·ç§¯ï¼š</p>
            <div class="steps-container">
                <h4>å¿«é€Ÿå·ç§¯ç®—æ³•æ­¥éª¤</h4>
                <ol>
                    <li><strong>è¡¥é›¶</strong>ï¼šå°†ä¸¤ä¸ªåºåˆ—è¡¥é›¶åˆ°é•¿åº¦N â‰¥ Lâ‚ + Lâ‚‚ - 1</li>
                    <li><strong>FFTå˜æ¢</strong>ï¼šX[k] = FFT{x[n]}, H[k] = FFT{h[n]}</li>
                    <li><strong>é¢‘åŸŸç›¸ä¹˜</strong>ï¼šY[k] = X[k] Â· H[k]</li>
                    <li><strong>IFFTå˜æ¢</strong>ï¼šy[n] = IFFT{Y[k]}</li>
                </ol>
            </div>
        </div>
        
        <div class="method-comparison">
            <div class="method-item">
                <h4>ç›´æ¥å·ç§¯</h4>
                <p><strong>å¤æ‚åº¦ï¼šO(NÂ²)</strong></p>
                <p>è®¡ç®—é‡ï¼šNâ‚ Ã— Nâ‚‚æ¬¡ä¹˜æ³•</p>
                <p>é€‚ç”¨ï¼šçŸ­åºåˆ—å·ç§¯</p>
                <div class="formula">
                    y[n] = âˆ‘<sub>m</sub> x[m]h[n-m]
                </div>
            </div>
            <div class="method-item">
                <h4>å¿«é€Ÿå·ç§¯(FFT)</h4>
                <p><strong>å¤æ‚åº¦ï¼šO(N log N)</strong></p>
                <p>è®¡ç®—é‡ï¼š3æ¬¡FFT + Næ¬¡ä¹˜æ³•</p>
                <p>é€‚ç”¨ï¼šé•¿åºåˆ—å·ç§¯</p>
                <div class="formula">
                    FFT â†’ ç›¸ä¹˜ â†’ IFFT
                </div>
            </div>
        </div>
        
        <div class="performance-table">
            <h4>æ€§èƒ½å¯¹æ¯”è¡¨</h4>
            <table>
                <tr>
                    <th>åºåˆ—é•¿åº¦</th>
                    <th>ç›´æ¥å·ç§¯</th>
                    <th>å¿«é€Ÿå·ç§¯</th>
                    <th>åŠ é€Ÿæ¯”</th>
                    <th>äº¤å‰ç‚¹</th>
                </tr>
                <tr>
                    <td>64</td>
                    <td>4,096</td>
                    <td>~1,200</td>
                    <td>3.4Ã—</td>
                    <td rowspan="4">çº¦32-64ç‚¹</td>
                </tr>
                <tr>
                    <td>128</td>
                    <td>16,384</td>
                    <td>~2,700</td>
                    <td>6.1Ã—</td>
                </tr>
                <tr>
                    <td>512</td>
                    <td>262,144</td>
                    <td>~14,000</td>
                    <td>18.7Ã—</td>
                </tr>
                <tr>
                    <td>1024</td>
                    <td>1,048,576</td>
                    <td>~31,000</td>
                    <td>33.8Ã—</td>
                </tr>
            </table>
        </div>
        
        <div class="plot-container">
            <h3>å¿«é€Ÿå·ç§¯æ¼”ç¤ºå™¨</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <canvas id="inputSignal" width="250" height="150"></canvas>
                    <p>è¾“å…¥ä¿¡å· x[n]</p>
                </div>
                <div class="demo-item">
                    <canvas id="impulseResponse" width="250" height="150"></canvas>
                    <p>å†²æ¿€å“åº” h[n]</p>
                </div>
                <div class="demo-item">
                    <canvas id="convolutionResult" width="250" height="150"></canvas>
                    <p>å·ç§¯ç»“æœ y[n]</p>
                </div>
            </div>
            <div class="controls">
                <label>ä¿¡å·ç±»å‹ï¼š</label>
                <select id="signalType">
                    <option value="pulse">è„‰å†²ä¿¡å·</option>
                    <option value="step">é˜¶è·ƒä¿¡å·</option>
                    <option value="exponential">æŒ‡æ•°ä¿¡å·</option>
                    <option value="sinc">sincä¿¡å·</option>
                </select>
                <label>æ»¤æ³¢å™¨ç±»å‹ï¼š</label>
                <select id="filterType">
                    <option value="lowpass">ä½é€šæ»¤æ³¢å™¨</option>
                    <option value="highpass">é«˜é€šæ»¤æ³¢å™¨</option>
                    <option value="bandpass">å¸¦é€šæ»¤æ³¢å™¨</option>
                    <option value="differentiator">å¾®åˆ†å™¨</option>
                </select>
                <button onclick="performFastConvolution()">æ‰§è¡Œå¿«é€Ÿå·ç§¯</button>
                <button onclick="compareConvolutionMethods()">æ€§èƒ½å¯¹æ¯”</button>
            </div>
            <div id="convolutionResult" style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px;"></div>
        </div>
        
        <h2>7.2 ç”¨DFTé€¼è¿‘è¿ç»­ä¿¡å·é¢‘è°±</h2>
        
        <div class="spectrum-analysis">
            <h3>é¢‘è°±åˆ†æçš„å®é™…é—®é¢˜</h3>
            <p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ†æ<strong>è¿ç»­æ—¶é—´ä¿¡å·</strong>çš„é¢‘è°±ï¼Œä½†åªèƒ½ä½¿ç”¨<strong>ç¦»æ•£çš„DFT</strong>ã€‚è¿™æ¶‰åŠä¸‰ä¸ªå…³é”®é—®é¢˜ï¼š</p>
            <ul>
                <li><strong>é‡‡æ ·</strong>ï¼šè¿ç»­ä¿¡å· â†’ ç¦»æ•£åºåˆ—</li>
                <li><strong>æˆªå–</strong>ï¼šæ— é™é•¿åºåˆ— â†’ æœ‰é™é•¿åºåˆ—</li>
                <li><strong>åˆ†æ</strong>ï¼šDFT â†’ è¿ç»­é¢‘è°±çš„é€¼è¿‘</li>
            </ul>
        </div>
        
        <div class="knowledge-point">
            <h3>é¢‘è°±åˆ†æçš„ä¸‰ä¸ªç¯èŠ‚</h3>
            
            <h4>1. æ—¶åŸŸé‡‡æ ·</h4>
            <div class="formula">
                x[n] = x_a(nT), n = 0, 1, 2, ...
            </div>
            <p><strong>é‡‡æ ·å®šç†</strong>ï¼šf_s â‰¥ 2f_maxï¼ˆé¿å…é¢‘è°±æ··å ï¼‰</p>
            
            <h4>2. æ—¶åŸŸæˆªå–ï¼ˆåŠ çª—ï¼‰</h4>
            <div class="formula">
                x_w[n] = x[n] Â· w[n], n = 0, 1, ..., N-1
            </div>
            <p><strong>çª—å‡½æ•°å½±å“</strong>ï¼šé¢‘è°±åˆ†è¾¨ç‡ vs é¢‘è°±æ³„æ¼</p>
            
            <h4>3. DFTé¢‘è°±åˆ†æ</h4>
            <div class="formula">
                X[k] = DFT{x_w[n]} â‰ˆ X_a(jÎ©)|<sub>Î©=2Ï€k/(NT)</sub>
            </div>
            <p><strong>é¢‘ç‡åˆ†è¾¨ç‡</strong>ï¼šÎ”f = f_s/N = 1/(NT)</p>
        </div>
        
        <div class="important">
            <h3>âš ï¸ é¢‘è°±åˆ†æä¸­çš„å…³é”®å‚æ•°</h3>
            <ul>
                <li><strong>é‡‡æ ·é¢‘ç‡ f_s</strong>ï¼šå†³å®šé¢‘è°±çš„æœ€é«˜é¢‘ç‡èŒƒå›´ [0, f_s/2]</li>
                <li><strong>è®°å½•é•¿åº¦ T = NT</strong>ï¼šå†³å®šé¢‘ç‡åˆ†è¾¨ç‡ Î”f = 1/T</li>
                <li><strong>DFTé•¿åº¦ N</strong>ï¼šå†³å®šé¢‘è°±çš„é‡‡æ ·ç‚¹æ•°</li>
                <li><strong>çª—å‡½æ•°</strong>ï¼šå½±å“é¢‘è°±çš„å½¢çŠ¶å’Œç²¾åº¦</li>
            </ul>
        </div>
        
        <div class="plot-container">
            <h3>é¢‘è°±åˆ†æå‚æ•°å½±å“æ¼”ç¤º</h3>
            <canvas id="spectrumAnalysis" width="800" height="400"></canvas>
            <div class="controls">
                <label>ä¿¡å·é¢‘ç‡(Hz)ï¼š</label>
                <input type="number" id="signalFreq" value="50" min="10" max="200">
                <label>é‡‡æ ·é¢‘ç‡(Hz)ï¼š</label>
                <input type="number" id="samplingFreq" value="500" min="100" max="1000">
                <label>è®°å½•é•¿åº¦(s)ï¼š</label>
                <input type="number" id="recordLength" value="1" min="0.1" max="5" step="0.1">
                <label>çª—å‡½æ•°ï¼š</label>
                <select id="windowType">
                    <option value="rectangular">çŸ©å½¢çª—</option>
                    <option value="hanning">æ±‰å®çª—</option>
                    <option value="hamming">æµ·æ˜çª—</option>
                    <option value="blackman">å¸ƒè±å…‹æ›¼çª—</option>
                </select>
                <button onclick="analyzeSpectrum()">åˆ†æé¢‘è°±</button>
            </div>
            <div id="spectrumInfo" style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px;"></div>
        </div>
        
        <div class="note-box">
            <h4>ğŸ’¡ å®é™…é¢‘è°±åˆ†ææŠ€å·§</h4>
            <ul>
                <li><strong>é›¶å¡«å……</strong>ï¼šå¢åŠ DFTé•¿åº¦å¯ä»¥å†…æ’é¢‘è°±ï¼Œä½†ä¸èƒ½æé«˜åˆ†è¾¨ç‡</li>
                <li><strong>çª—å‡½æ•°é€‰æ‹©</strong>ï¼šçŸ©å½¢çª—åˆ†è¾¨ç‡æœ€é«˜ï¼Œå…¶ä»–çª—æŠ‘åˆ¶å‰¯ç“£</li>
                <li><strong>é‡å åˆ†æ</strong>ï¼šç”¨äºåˆ†æéå¹³ç¨³ä¿¡å·çš„æ—¶å˜é¢‘è°±</li>
                <li><strong>å¹³å‡å¤„ç†</strong>ï¼šå¤šæ®µå¹³å‡å¯ä»¥é™ä½å™ªå£°å½±å“</li>
            </ul>
        </div>
        
        <h2>7.3 äºŒç»´ç¦»æ•£å‚…é‡Œå¶å˜æ¢</h2>
        
        <div class="knowledge-point">
            <h3>äºŒç»´DFTçš„å®šä¹‰</h3>
            <p>å¯¹äºäºŒç»´åºåˆ— x[m, n]ï¼Œå…¶äºŒç»´DFTå®šä¹‰ä¸ºï¼š</p>
            
            <h4>æ­£å˜æ¢</h4>
            <div class="formula">
                X[k, l] = âˆ‘<sub>m=0</sub><sup>M-1</sup> âˆ‘<sub>n=0</sub><sup>N-1</sup> x[m,n]e<sup>-j2Ï€(km/M + ln/N)</sup>
            </div>
            
            <h4>é€†å˜æ¢</h4>
            <div class="formula">
                x[m, n] = (1/MN) âˆ‘<sub>k=0</sub><sup>M-1</sup> âˆ‘<sub>l=0</sub><sup>N-1</sup> X[k,l]e<sup>j2Ï€(km/M + ln/N)</sup>
            </div>
            
            <p>å…¶ä¸­ï¼šm, k = 0, 1, ..., M-1ï¼›n, l = 0, 1, ..., N-1</p>
        </div>
        
        <div class="knowledge-point">
            <h3>äºŒç»´DFTçš„å¯åˆ†ç¦»æ€§</h3>
            <p>äºŒç»´DFTå¯ä»¥åˆ†è§£ä¸ºä¸¤æ¬¡ä¸€ç»´DFTï¼š</p>
            <div class="steps-container">
                <h4>è¡Œåˆ—åˆ†ç¦»ç®—æ³•</h4>
                <ol>
                    <li><strong>è¡Œå˜æ¢</strong>ï¼šå¯¹æ¯ä¸€è¡Œè¿›è¡Œä¸€ç»´DFT
                        <div class="formula">Xâ‚[k, n] = âˆ‘<sub>m=0</sub><sup>M-1</sup> x[m,n]e<sup>-j2Ï€km/M</sup></div>
                    </li>
                    <li><strong>åˆ—å˜æ¢</strong>ï¼šå¯¹ç»“æœçš„æ¯ä¸€åˆ—è¿›è¡Œä¸€ç»´DFT
                        <div class="formula">X[k, l] = âˆ‘<sub>n=0</sub><sup>N-1</sup> Xâ‚[k,n]e<sup>-j2Ï€ln/N</sup></div>
                    </li>
                </ol>
            </div>
            
            <div class="important">
                <p><strong>è®¡ç®—ä¼˜åŠ¿</strong>ï¼šå¤æ‚åº¦ä»O(MÂ²NÂ²)é™åˆ°O(MN(M+N))</p>
            </div>
        </div>
        
        <div class="application-box">
            <h3>ğŸ–¼ï¸ äºŒç»´DFTçš„ä¸»è¦åº”ç”¨</h3>
            <div class="method-comparison">
                <div class="method-item">
                    <h4>å›¾åƒå¤„ç†</h4>
                    <ul>
                        <li>å›¾åƒå¢å¼º</li>
                        <li>å™ªå£°æŠ‘åˆ¶</li>
                        <li>è¾¹ç¼˜æ£€æµ‹</li>
                        <li>å›¾åƒå¤åŸ</li>
                    </ul>
                </div>
                <div class="method-item">
                    <h4>é¢‘åŸŸæ»¤æ³¢</h4>
                    <ul>
                        <li>ä½é€šæ»¤æ³¢ï¼ˆå¹³æ»‘ï¼‰</li>
                        <li>é«˜é€šæ»¤æ³¢ï¼ˆé”åŒ–ï¼‰</li>
                        <li>å¸¦é€šæ»¤æ³¢</li>
                        <li>æ–¹å‘æ»¤æ³¢</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="plot-container">
            <h3>äºŒç»´DFTå›¾åƒå¤„ç†æ¼”ç¤º</h3>
            <div class="two-d-demo">
                <div class="image-container">
                    <canvas id="originalImage" width="150" height="150"></canvas>
                    <p>åŸå§‹å›¾åƒ</p>
                </div>
                <div class="image-container">
                    <canvas id="frequencyDomain" width="150" height="150"></canvas>
                    <p>é¢‘åŸŸï¼ˆå¯¹æ•°å¹…åº¦è°±ï¼‰</p>
                </div>
                <div class="image-container">
                    <canvas id="filteredImage" width="150" height="150"></canvas>
                    <p>æ»¤æ³¢ç»“æœ</p>
                </div>
            </div>
            <div class="controls">
                <label>æµ‹è¯•å›¾åƒï¼š</label>
                <select id="testImage">
                    <option value="checkerboard">æ£‹ç›˜å›¾æ¡ˆ</option>
                    <option value="circle">åœ†å½¢å›¾æ¡ˆ</option>
                    <option value="cross">åå­—å›¾æ¡ˆ</option>
                    <option value="diagonal">å¯¹è§’çº¿å›¾æ¡ˆ</option>
                </select>
                <label>æ»¤æ³¢å™¨ï¼š</label>
                <select id="filter2D">
                    <option value="lowpass">ä½é€šæ»¤æ³¢</option>
                    <option value="highpass">é«˜é€šæ»¤æ³¢</option>
                    <option value="bandpass">å¸¦é€šæ»¤æ³¢</option>
                    <option value="notch">é™·æ³¢æ»¤æ³¢</option>
                </select>
                <label>æˆªæ­¢é¢‘ç‡ï¼š</label>
                <input type="range" id="cutoffFreq" min="0.1" max="0.5" step="0.05" value="0.2">
                <span id="cutoffValue">0.2</span>
                <button onclick="apply2DFilter()">åº”ç”¨æ»¤æ³¢</button>
            </div>
        </div>
        
        <div class="knowledge-point">
            <h3>äºŒç»´DFTçš„æ€§è´¨</h3>
            <div class="method-comparison">
                <div class="method-item">
                    <h4>åŸºæœ¬æ€§è´¨</h4>
                    <ul>
                        <li><strong>çº¿æ€§æ€§</strong></li>
                        <li><strong>ç§»ä½æ€§è´¨</strong></li>
                        <li><strong>æ—‹è½¬æ€§è´¨</strong></li>
                        <li><strong>å°ºåº¦å˜æ¢</strong></li>
                    </ul>
                </div>
                <div class="method-item">
                    <h4>é¢‘åŸŸç‰¹æ€§</h4>
                    <ul>
                        <li><strong>å‘¨æœŸæ€§</strong></li>
                        <li><strong>å…±è½­å¯¹ç§°æ€§</strong></li>
                        <li><strong>å¸•å¡ç“¦å°”å®šç†</strong></li>
                        <li><strong>å·ç§¯å®šç†</strong></li>
                    </ul>
                </div>
            </div>
        </div>
        
        <h2>7.4 å®é™…åº”ç”¨æ¡ˆä¾‹</h2>
        
        <div class="application-box">
            <h3>ğŸš€ DFT/FFTåœ¨ç°ä»£æŠ€æœ¯ä¸­çš„åº”ç”¨</h3>
            
            <div class="demo-grid">
                <div class="demo-item">
                    <h4>ğŸµ éŸ³é¢‘å¤„ç†</h4>
                    <ul>
                        <li>MP3å‹ç¼©ç¼–ç </li>
                        <li>éŸ³é¢‘å‡è¡¡å™¨</li>
                        <li>å›å£°æ¶ˆé™¤</li>
                        <li>éŸ³ä¹åˆæˆ</li>
                    </ul>
                </div>
                
                <div class="demo-item">
                    <h4>ğŸ“¡ é€šä¿¡ç³»ç»Ÿ</h4>
                    <ul>
                        <li>OFDMè°ƒåˆ¶</li>
                        <li>ä¿¡é“å‡è¡¡</li>
                        <li>é¢‘è°±åˆ†æ</li>
                        <li>é›·è¾¾ä¿¡å·å¤„ç†</li>
                    </ul>
                </div>
                
                <div class="demo-item">
                    <h4>ğŸ–¼ï¸ å›¾åƒå¤„ç†</h4>
                    <ul>
                        <li>JPEGå‹ç¼©</li>
                        <li>å›¾åƒå¢å¼º</li>
                        <li>æ¨¡å¼è¯†åˆ«</li>
                        <li>åŒ»å­¦å½±åƒ</li>
                    </ul>
                </div>
                
                <div class="demo-item">
                    <h4>ğŸ”¬ ç§‘å­¦è®¡ç®—</h4>
                    <ul>
                        <li>åå¾®åˆ†æ–¹ç¨‹æ±‚è§£</li>
                        <li>ä¿¡å·é‡å»º</li>
                        <li>æ•°æ®å‹ç¼©</li>
                        <li>è°±ä¼°è®¡</li>
                    </ul>
                </div>
                
                <div class="demo-item">
                    <h4>ğŸ® å¤šåª’ä½“</h4>
                    <ul>
                        <li>è§†é¢‘ç¼–ç </li>
                        <li>å®æ—¶æ»¤æ³¢</li>
                        <li>ç‰¹æ•ˆå¤„ç†</li>
                        <li>è™šæ‹Ÿç°å®</li>
                    </ul>
                </div>
                
                <div class="demo-item">
                    <h4>ğŸ­ å·¥ä¸šæ§åˆ¶</h4>
                    <ul>
                        <li>æŒ¯åŠ¨åˆ†æ</li>
                        <li>æ•…éšœè¯Šæ–­</li>
                        <li>è´¨é‡æ£€æµ‹</li>
                        <li>è¿‡ç¨‹æ§åˆ¶</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="important">
            <h3>ğŸ¯ æœ¬ç« å­¦ä¹ è¦ç‚¹æ€»ç»“</h3>
            <ol>
                <li><strong>å¿«é€Ÿå·ç§¯</strong>ï¼šæŒæ¡FFTå®ç°é«˜æ•ˆå·ç§¯çš„åŸç†å’Œæ­¥éª¤</li>
                <li><strong>é¢‘è°±åˆ†æ</strong>ï¼šç†è§£ç”¨DFTåˆ†æè¿ç»­ä¿¡å·é¢‘è°±çš„æ–¹æ³•å’Œå±€é™</li>
                <li><strong>äºŒç»´DFT</strong>ï¼šäº†è§£å›¾åƒå’ŒäºŒç»´ä¿¡å·å¤„ç†çš„åŸºç¡€å·¥å…·</li>
                <li><strong>å®é™…åº”ç”¨</strong>ï¼šè®¤è¯†DFT/FFTåœ¨ç°ä»£æŠ€æœ¯ä¸­çš„å¹¿æ³›åº”ç”¨</li>
                <li><strong>å‚æ•°é€‰æ‹©</strong>ï¼šå­¦ä¼šåœ¨å®é™…åº”ç”¨ä¸­åˆç†é€‰æ‹©é‡‡æ ·ç‡ã€è®°å½•é•¿åº¦ç­‰å‚æ•°</li>
                <li><strong>ç®—æ³•ä¼˜åŒ–</strong>ï¼šç†è§£åˆ†ç¦»ç®—æ³•ã€çª—å‡½æ•°ç­‰ä¼˜åŒ–æŠ€æœ¯</li>
            </ol>
        </div>
        
        <div class="note-box">
            <h3>ğŸ’­ è¯¾ç¨‹æ€»ç»“å›é¡¾</h3>
            <p><strong>çŸ¥è¯†ä½“ç³»çš„ä»·å€¼ï¼š</strong></p>
            <ul>
                <li>ä»åŸºç¡€æ¦‚å¿µåˆ°å®ç”¨ç®—æ³•çš„å®Œæ•´ä½“ç³»</li>
                <li>ä»æ•°å­¦ç†è®ºåˆ°å·¥ç¨‹åº”ç”¨çš„æœ‰æœºç»“åˆ</li>
                <li>ä¸ºåç»­æ•°å­—æ»¤æ³¢å™¨è®¾è®¡ã€ç°ä»£ä¿¡å·å¤„ç†å¥ å®šåŸºç¡€</li>
                <li>å…·å¤‡äº†ç°ä»£æ•°å­—ä¿¡å·å¤„ç†çš„æ ¸å¿ƒçŸ¥è¯†å’ŒæŠ€èƒ½</li>
            </ul>
        </div>
    </div>

    <script>
        // ç”Ÿæˆæµ‹è¯•ä¿¡å·
        function generateTestSignal(type, length) {
            const signal = [];
            for (let n = 0; n < length; n++) {
                let value = 0;
                switch (type) {
                    case 'pulse':
                        value = (n < length/4) ? 1 : 0;
                        break;
                    case 'step':
                        value = (n >= length/4) ? 1 : 0;
                        break;
                    case 'exponential':
                        value = Math.exp(-n/10);
                        break;
                    case 'sinc':
                        const x = (n - length/2) / 4;
                        value = x === 0 ? 1 : Math.sin(Math.PI * x) / (Math.PI * x);
                        break;
                }
                signal.push(value);
            }
            return signal;
        }
        
        // ç”Ÿæˆæ»¤æ³¢å™¨
        function generateFilter(type, length) {
            const filter = [];
            for (let n = 0; n < length; n++) {
                let value = 0;
                switch (type) {
                    case 'lowpass':
                        // ç®€å•ä½é€šæ»¤æ³¢å™¨
                        const weights = [0.1, 0.2, 0.4, 0.2, 0.1];
                        value = (n < weights.length) ? weights[n] : 0;
                        break;
                    case 'highpass':
                        // ç®€å•é«˜é€šæ»¤æ³¢å™¨
                        if (n === 0) value = 1;
                        else if (n === 1) value = -1;
                        else value = 0;
                        break;
                    case 'bandpass':
                        // ç®€å•å¸¦é€šæ»¤æ³¢å™¨
                        value = 0.5 * Math.cos(2 * Math.PI * n / 8) * Math.exp(-n/10);
                        break;
                    case 'differentiator':
                        // å¾®åˆ†å™¨
                        if (n === 0) value = 1;
                        else if (n === 1) value = -1;
                        else value = 0;
                        break;
                }
                filter.push(value);
            }
            return filter;
        }
        
        // æ‰§è¡Œå¿«é€Ÿå·ç§¯
        function performFastConvolution() {
            const signalType = document.getElementById('signalType').value;
            const filterType = document.getElementById('filterType').value;
            
            const signal = generateTestSignal(signalType, 32);
            const filter = generateFilter(filterType, 16);
            
            // ç»˜åˆ¶è¾“å…¥ä¿¡å·å’Œæ»¤æ³¢å™¨
            plotSignal(signal, 'inputSignal', 'è¾“å…¥ä¿¡å·');
            plotSignal(filter, 'impulseResponse', 'å†²æ¿€å“åº”');
            
            // æ‰§è¡Œå·ç§¯ï¼ˆç®€åŒ–å®ç°ï¼‰
            const convResult = linearConvolution(signal, filter);
            plotSignal(convResult, 'convolutionResult', 'å·ç§¯ç»“æœ');
            
            // æ˜¾ç¤ºä¿¡æ¯
            document.getElementById('convolutionResult').innerHTML = `
                <h4>å·ç§¯å®Œæˆ</h4>
                <p>è¾“å…¥é•¿åº¦ï¼š${signal.length}ï¼Œæ»¤æ³¢å™¨é•¿åº¦ï¼š${filter.length}</p>
                <p>è¾“å‡ºé•¿åº¦ï¼š${convResult.length}</p>
                <p>ä½¿ç”¨å¿«é€Ÿå·ç§¯å¯æ˜¾è‘—æé«˜è®¡ç®—æ•ˆç‡</p>
            `;
        }
        
        // çº¿æ€§å·ç§¯å®ç°
        function linearConvolution(x, h) {
            const result = [];
            const N = x.length + h.length - 1;
            
            for (let n = 0; n < N; n++) {
                let sum = 0;
                for (let m = 0; m < h.length; m++) {
                    if (n - m >= 0 && n - m < x.length) {
                        sum += x[n - m] * h[m];
                    }
                }
                result.push(sum);
            }
            
            return result;
        }
        
        // ç»˜åˆ¶ä¿¡å·
        function plotSignal(data, canvasId, title) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            const centerY = height * 0.8;
            const scaleX = (width - 40) / (data.length + 1);
            const maxVal = Math.max(...data.map(Math.abs)) || 1;
            const scaleY = (height * 0.5) / maxVal;
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(20, centerY);
            ctx.lineTo(width - 20, centerY);
            ctx.stroke();
            
            // ç»˜åˆ¶ä¿¡å·
            ctx.strokeStyle = '#3498db';
            ctx.fillStyle = '#3498db';
            ctx.lineWidth = 2;
            
            data.forEach((value, index) => {
                const x = 20 + (index + 1) * scaleX;
                const y = centerY - value * scaleY;
                
                // èŒ
                ctx.beginPath();
                ctx.moveTo(x, centerY);
                ctx.lineTo(x, y);
                ctx.stroke();
                
                // ç‚¹
                ctx.beginPath();
                ctx.arc(x, y, 2, 0, 2 * Math.PI);
                ctx.fill();
            });
            
            // æ ‡é¢˜
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(title, width / 2, 15);
        }
        
        // æ€§èƒ½å¯¹æ¯”
        function compareConvolutionMethods() {
            const lengths = [64, 128, 256, 512, 1024];
            let resultHTML = '<h4>å·ç§¯æ–¹æ³•æ€§èƒ½å¯¹æ¯”</h4>';
            resultHTML += '<table style="width: 100%; border-collapse: collapse;">';
            resultHTML += '<tr><th>é•¿åº¦</th><th>ç›´æ¥å·ç§¯</th><th>å¿«é€Ÿå·ç§¯</th><th>åŠ é€Ÿæ¯”</th></tr>';
            
            lengths.forEach(N => {
                const directOps = N * N;
                const fftOps = 3 * N * Math.log2(N) + N; // 3æ¬¡FFT + Næ¬¡ä¹˜æ³•
                const speedup = directOps / fftOps;
                
                resultHTML += `<tr>
                    <td>${N}</td>
                    <td>${directOps.toLocaleString()}</td>
                    <td>${Math.round(fftOps).toLocaleString()}</td>
                    <td>${speedup.toFixed(1)}Ã—</td>
                </tr>`;
            });
            
            resultHTML += '</table>';
            document.getElementById('convolutionResult').innerHTML = resultHTML;
        }
        
        // é¢‘è°±åˆ†æ
        function analyzeSpectrum() {
            const signalFreq = parseFloat(document.getElementById('signalFreq').value);
            const samplingFreq = parseFloat(document.getElementById('samplingFreq').value);
            const recordLength = parseFloat(document.getElementById('recordLength').value);
            const windowType = document.getElementById('windowType').value;
            
            const N = Math.pow(2, Math.ceil(Math.log2(samplingFreq * recordLength)));
            const dt = 1 / samplingFreq;
            
            // ç”Ÿæˆä¿¡å·
            const signal = [];
            for (let n = 0; n < N; n++) {
                const t = n * dt;
                signal.push(Math.cos(2 * Math.PI * signalFreq * t) + 0.1 * Math.random());
            }
            
            // åº”ç”¨çª—å‡½æ•°
            const windowedSignal = applyWindow(signal, windowType);
            
            // è®¡ç®—é¢‘è°±
            const spectrum = calculateSpectrum(windowedSignal, samplingFreq);
            
            // ç»˜åˆ¶ç»“æœ
            plotSpectrumAnalysis(signal, windowedSignal, spectrum, samplingFreq);
            
            // æ˜¾ç¤ºå‚æ•°ä¿¡æ¯
            const freqResolution = samplingFreq / N;
            document.getElementById('spectrumInfo').innerHTML = `
                <h4>é¢‘è°±åˆ†æå‚æ•°</h4>
                <p>é‡‡æ ·é¢‘ç‡ï¼š${samplingFreq} Hz</p>
                <p>é¢‘ç‡åˆ†è¾¨ç‡ï¼š${freqResolution.toFixed(2)} Hz</p>
                <p>æœ€å¤§é¢‘ç‡ï¼š${samplingFreq/2} Hz</p>
                <p>æ ·æœ¬æ•°ï¼š${N}</p>
                <p>å®é™…è®°å½•é•¿åº¦ï¼š${(N/samplingFreq).toFixed(2)} s</p>
            `;
        }
        
        // åº”ç”¨çª—å‡½æ•°
        function applyWindow(signal, windowType) {
            const N = signal.length;
            const windowed = [];
            
            for (let n = 0; n < N; n++) {
                let w = 1;
                switch (windowType) {
                    case 'rectangular':
                        w = 1;
                        break;
                    case 'hanning':
                        w = 0.5 * (1 - Math.cos(2 * Math.PI * n / (N - 1)));
                        break;
                    case 'hamming':
                        w = 0.54 - 0.46 * Math.cos(2 * Math.PI * n / (N - 1));
                        break;
                    case 'blackman':
                        w = 0.42 - 0.5 * Math.cos(2 * Math.PI * n / (N - 1)) + 0.08 * Math.cos(4 * Math.PI * n / (N - 1));
                        break;
                }
                windowed.push(signal[n] * w);
            }
            
            return windowed;
        }
        
        // è®¡ç®—é¢‘è°±
        function calculateSpectrum(signal, fs) {
            const N = signal.length;
            const spectrum = [];
            
            // ç®€åŒ–çš„DFTè®¡ç®—ï¼ˆåªè®¡ç®—æ­£é¢‘ç‡éƒ¨åˆ†ï¼‰
            for (let k = 0; k < N/2; k++) {
                let real = 0;
                let imag = 0;
                
                for (let n = 0; n < N; n++) {
                    const angle = -2 * Math.PI * k * n / N;
                    real += signal[n] * Math.cos(angle);
                    imag += signal[n] * Math.sin(angle);
                }
                
                const magnitude = Math.sqrt(real * real + imag * imag);
                const frequency = k * fs / N;
                spectrum.push({frequency: frequency, magnitude: magnitude});
            }
            
            return spectrum;
        }
        
        // ç»˜åˆ¶é¢‘è°±åˆ†æç»“æœ
        function plotSpectrumAnalysis(original, windowed, spectrum, fs) {
            const canvas = document.getElementById('spectrumAnalysis');
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // åˆ†æˆä¸¤ä¸ªå­å›¾
            const subHeight = height / 2;
            
            // ç»˜åˆ¶æ—¶åŸŸä¿¡å·
            plotSubgraph(ctx, original.slice(0, 100), 0, 0, width, subHeight, 'æ—¶åŸŸä¿¡å·', '#3498db');
            
            // ç»˜åˆ¶é¢‘åŸŸè°±
            const freqs = spectrum.map(s => s.frequency);
            const mags = spectrum.map(s => s.magnitude);
            plotSubgraph(ctx, mags, 0, subHeight, width, subHeight, 'é¢‘åŸŸå¹…åº¦è°±', '#e74c3c');
            
            // æ·»åŠ é¢‘ç‡è½´æ ‡ç­¾
            ctx.fillStyle = '#333';
            ctx.font = '10px Arial';
            ctx.textAlign = 'center';
            const maxFreq = fs / 2;
            for (let i = 0; i <= 4; i++) {
                const f = (i * maxFreq / 4);
                const x = 20 + i * (width - 40) / 4;
                ctx.fillText(`${f.toFixed(0)}Hz`, x, height - 5);
            }
        }
        
        // ç»˜åˆ¶å­å›¾
        function plotSubgraph(ctx, data, offsetX, offsetY, subWidth, subHeight, title, color) {
            const centerY = offsetY + subHeight * 0.8;
            const scaleX = (subWidth - 40) / data.length;
            const maxVal = Math.max(...data.map(Math.abs)) || 1;
            const scaleY = (subHeight * 0.4) / maxVal;
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(offsetX + 20, centerY);
            ctx.lineTo(offsetX + subWidth - 20, centerY);
            ctx.stroke();
            
            // ç»˜åˆ¶æ•°æ®
            ctx.strokeStyle = color;
            ctx.lineWidth = 1;
            ctx.beginPath();
            
            data.forEach((value, index) => {
                const x = offsetX + 20 + index * scaleX;
                const y = centerY - value * scaleY;
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();
            
            // æ ‡é¢˜
            ctx.fillStyle = color;
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(title, offsetX + subWidth / 2, offsetY + 15);
        }
        
        // ç”Ÿæˆæµ‹è¯•å›¾åƒ
        function generateTestImage(type, size) {
            const image = [];
            for (let i = 0; i < size; i++) {
                const row = [];
                for (let j = 0; j < size; j++) {
                    let value = 0;
                    switch (type) {
                        case 'checkerboard':
                            value = ((Math.floor(i/4) + Math.floor(j/4)) % 2) * 255;
                            break;
                        case 'circle':
                            const cx = size / 2, cy = size / 2;
                            const dist = Math.sqrt((i - cx) * (i - cx) + (j - cy) * (j - cy));
                            value = (dist < size / 4) ? 255 : 0;
                            break;
                        case 'cross':
                            value = (Math.abs(i - size/2) < 2 || Math.abs(j - size/2) < 2) ? 255 : 0;
                            break;
                        case 'diagonal':
                            value = (Math.abs(i - j) < 2) ? 255 : 0;
                            break;
                    }
                    row.push(value);
                }
                image.push(row);
            }
            return image;
        }
        
        // åº”ç”¨äºŒç»´æ»¤æ³¢
        function apply2DFilter() {
            const imageType = document.getElementById('testImage').value;
            const filterType = document.getElementById('filter2D').value;
            const cutoff = parseFloat(document.getElementById('cutoffFreq').value);
            
            document.getElementById('cutoffValue').textContent = cutoff.toFixed(2);
            
            const size = 32;
            const image = generateTestImage(imageType, size);
            
            // ç»˜åˆ¶åŸå§‹å›¾åƒ
            drawImage(image, 'originalImage');
            
            // ç®€åŒ–çš„äºŒç»´FFTå’Œæ»¤æ³¢ï¼ˆæ¼”ç¤ºç”¨ï¼‰
            const filtered = apply2DFilterDemo(image, filterType, cutoff);
            
            // ç»˜åˆ¶æ»¤æ³¢ç»“æœ
            drawImage(filtered, 'filteredImage');
            
            // ç»˜åˆ¶é¢‘åŸŸï¼ˆç®€åŒ–æ˜¾ç¤ºï¼‰
            drawFrequencyDomain(size, 'frequencyDomain');
        }
        
        // æ¼”ç¤ºç”¨çš„äºŒç»´æ»¤æ³¢
        function apply2DFilterDemo(image, filterType, cutoff) {
            const size = image.length;
            const filtered = [];
            
            for (let i = 0; i < size; i++) {
                const row = [];
                for (let j = 0; j < size; j++) {
                    const u = i < size/2 ? i : i - size;
                    const v = j < size/2 ? j : j - size;
                    const freq = Math.sqrt(u*u + v*v) / (size/2);
                    
                    let weight = 1;
                    switch (filterType) {
                        case 'lowpass':
                            weight = freq < cutoff ? 1 : 0;
                            break;
                        case 'highpass':
                            weight = freq > cutoff ? 1 : 0;
                            break;
                        case 'bandpass':
                            weight = (freq > cutoff/2 && freq < cutoff*2) ? 1 : 0;
                            break;
                        case 'notch':
                            weight = (freq < cutoff || freq > cutoff*2) ? 1 : 0;
                            break;
                    }
                    
                    row.push(Math.max(0, Math.min(255, image[i][j] * weight)));
                }
                filtered.push(row);
            }
            
            return filtered;
        }
        
        // ç»˜åˆ¶å›¾åƒ
        function drawImage(image, canvasId) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            const size = image.length;
            const pixelWidth = width / size;
            const pixelHeight = height / size;
            
            for (let i = 0; i < size; i++) {
                for (let j = 0; j < size; j++) {
                    const gray = Math.round(image[i][j]);
                    ctx.fillStyle = `rgb(${gray}, ${gray}, ${gray})`;
                    ctx.fillRect(j * pixelWidth, i * pixelHeight, pixelWidth, pixelHeight);
                }
            }
        }
        
        // ç»˜åˆ¶é¢‘åŸŸæ˜¾ç¤º
        function drawFrequencyDomain(size, canvasId) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            const pixelWidth = width / size;
            const pixelHeight = height / size;
            
            // ç®€åŒ–çš„é¢‘åŸŸå¯è§†åŒ–
            for (let i = 0; i < size; i++) {
                for (let j = 0; j < size; j++) {
                    const u = i < size/2 ? i : i - size;
                    const v = j < size/2 ? j : j - size;
                    const freq = Math.sqrt(u*u + v*v);
                    const gray = Math.max(0, 255 - freq * 8);
                    
                    ctx.fillStyle = `rgb(${gray}, ${gray}, ${gray})`;
                    ctx.fillRect(j * pixelWidth, i * pixelHeight, pixelWidth, pixelHeight);
                }
            }
        }
        
        // é¡µé¢åŠ è½½ååˆå§‹åŒ–
        window.onload = function() {
            performFastConvolution();
            analyzeSpectrum();
            apply2DFilter();
        };
    </script>
</body>
</html>